<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="EcoMarket - Produtos ecológicos e sustentáveis">
    <link rel="stylesheet" href="../assets/estilo/style.css">
    <link rel="stylesheet" href="../assets/estilo/detalhes-produto.css">
    <link rel="shortcut icon" href="../assets/img/favicon.ico" type="image/x-icon">
    <title>EcoMarket-SAMAVI</title>
</head>
<body>
    <script>
        // Proteção de Rota (deve ser o PRIMEIRO script da página)
        const usuario = JSON.parse(localStorage.getItem('usuarioLogado'));

        if (!usuario || !usuario.email) { // Verifica tanto a existência quanto dados válidos
        localStorage.removeItem('usuarioLogado'); // Limpa dados corrompidos
        window.location.href = '/login.html?redirect=' + encodeURIComponent(window.location.pathname);
}
</script>
    <!-- CABEÇALHO -->
    <header class="banner">
        <div class="container">
            <!-- BARRA DE NAVEGAÇÃO -->
            <nav class="navbar">
                <div class="logo">
                    <img src="../assets/img/verde-300.png" alt="Logo EcoMarket" width="125">
                </div>

                <!-- MENU PRINCIPAL -->
                <nav>
                    <ul id="MenuItens">
                        <li><p id="saudacao"></p></li>
                        <li><a href="../paginas/produtos.html">Produtos</a></li>
                        <li><a href="../paginas/contatos.html">Contatos</a></li>
                        <li><a href="../paginas/conta.html">Minha Conta</a></li>
                    </ul>
                </nav>

                <!-- CARRINHO DE COMPRAS -->
                <div class="carrinho-icone">
                    <img src="../assets/img/carrinho.png" alt="Carrinho de Compras" width="30" height="30">
                    <span id="contador-carrinho">0</span>
                    <div class="carrinho-dropdown" id="carrinho-dropdown">
                        <div id="lista-carrinho"></div>
                        <div class="carrinho-total" id="total-carrinho">Total: R$ 0,00</div>
                        <div class="carrinho-botoes">
                            <button class="btn-limpar" onclick="limparCarrinho()">Limpar Carrinho</button>
                            <button id="finalizar-compra" class="btn-finalizar">Finalizar Compra</button>
                        </div>
                    </div>
                </div>

                <!-- MENU MOBILE -->
                <img src="../assets/img/menu.png" alt="Menu Mobile" class="menu-celular" onclick="menucelular()">
            </nav>

            <!-- HERO BANNER -->
            <section class="linha">
                <div class="col-2">
                    <h1>Escolha um novo <br> estilo de vida!</h1>
                    <p>Quem ama preserva, preservar o meio <br> ambiente é preservar a vida</p> <br>
                    <a href="../paginas/informacoes.html" class="btn">Mais Informações &#8594;</a>
                </div>
                <div class="col-2">
                    <img src="../assets/img/a.png" alt="Estilo de vida sustentável">
                </div>
            </section>
        </div>
    </header>

    <!-- CATEGORIAS -->
    <section class="categorias">
        <div class="corpo-categorias">
            <h2 class="titulo">Nossas Categorias</h2>
            <div class="linha">
                <article class="col-3">
                    <h3>Higiene Pessoal</h3>
                    <img src="../assets/img/categoria-1.jpg" alt="Produtos de higiene sustentáveis">
                </article>
                <article class="col-3">
                    <h3>Moda Sustentável</h3>
                    <img src="../assets/img/categoria-2.jpg" alt="Moda ecológica">
                </article>
                <article class="col-3">
                    <h3>Decoração Ecológica</h3>
                    <img src="../assets/img/categoria-3.jpg" alt="Decoração sustentável">
                </article>
            </div>
        </div>
    </section>

    <!-- PRODUTOS EM DESTAQUE -->
<main class="corpo-categorias">
    <h2 class="titulo">Produtos em Destaque</h2>
    <div class="linha" id="produtos-destaque">
        <!-- Os produtos serão carregados dinamicamente aqui -->
        <div class="loading">Carregando produtos...</div>
    </div>

    <!-- NOVIDADES -->
    <h2 class="titulo">Novidades</h2>
    <div class="linha" id="produtos-novidades">
        <!-- Os produtos serão carregados dinamicamente aqui -->
        <div class="loading">Carregando produtos...</div>
    </div>
</main>

    <!-- OFERTAS (SEÇÃO VAZIA PARA FUTURO DESENVOLVIMENTO) -->
    <section class="ofertas">
        <div class="corpo-categorias">
            <div class="linha">
                <div class="col-2"></div>
                <div class="col-2"></div>
            </div>
        </div>
    </section>

    <!-- SCRIPTS -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="../assets/js/app.js"></script>
    <script>
        // Verifica se o usuário está logado
        const usuarioLogado = JSON.parse(localStorage.getItem('usuarioLogado'));

        if (usuarioLogado) {
            // Exemplo: Mostrar nome do usuário em um elemento com ID "saudacao"
            const saudacaoElement = document.getElementById('saudacao');
            if (saudacaoElement) {
                saudacaoElement.textContent = `Olá, ${usuarioLogado.nome}!`;
            }
        }
    </script>
</body>
</html>